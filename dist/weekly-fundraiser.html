<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weekly Fundraiser</title>
  <style>
    body { font-family: sans-serif; background: #f8f8f8; margin: 0; padding: 0; }
    .container { max-width: 500px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; padding: 2em; }
    h1 { color: #0066cc; }
    label { display: block; margin-top: 1.5em; font-weight: bold; }
    input[type="number"] { width: 100%; padding: 0.5em; font-size: 1.1em; margin-top: 0.5em; }
    button { margin-top: 1.5em; background: #0066cc; color: #fff; border: none; padding: 0.7em 1.5em; border-radius: 4px; font-size: 1.1em; cursor: pointer; }
    .links { margin-top: 2em; }
    .links a { display: block; margin-bottom: 0.7em; color: #0066cc; text-decoration: underline; }
    .success { color: green; margin-top: 1em; }
  </style>
</head>
<body>
  <div id="menu-container"></div>
  <div class="container">
    <h1>Weekly Fundraiser</h1>
    <p style="font-size:1.1em; color:#444; margin-bottom:0.3em;">Every Wednesday there will be a new fundraiser. Fund raiser for the week starting 2/11 is North Shore Luce.</p>
    <div class="links" style="margin-top:0.5em;margin-bottom:0em;">
      <div style="display:flex;align-items:center;gap:0.7em;margin-bottom:0em;">
          <div style="display:flex;flex-direction:row;align-items:flex-end;">
            <a href="https://www.northshoreluce.org/donate" target="_blank" style="text-decoration:none;font-weight:bold;font-size:1.1em;display:flex;align-items:flex-end; color:#0066cc; text-decoration:underline; margin-top:32px;">Donate to North Shore LUCE</a>
            <img src="https://images.squarespace-cdn.com/content/v1/67d4398453efd61999ebaabf/d56d5b78-6cab-4231-bef9-1dd3f855e052/LUCE-logo-v1.png" alt="Butterfly Logo" style="max-width:135px; height:auto; margin-left:24px;">
          </div>
        </div>
      </div>
      <a href="https://givebutter.com/NSLUCE" target="_blank" style="color:#0066cc; font-weight:bold; font-size:1.1em; text-decoration:underline; margin-top:1em; display:block;">Information about North Shore LUCE</a>
      <a href="https://lucemass.org" target="_blank" style="color:#0066cc; font-weight:bold; font-size:1.1em; text-decoration:underline; margin-top:1em; display:block;">Information about LUCE Mass</a>
    </div>
    <div style="font-size:1em; color:#444; margin-bottom:1.5em;">This week's fundraiser supports legal advocacy and immigrant rights through LUCE. Your donation helps provide critical legal services and community support.</div>
    <form id="donation-form">
      <label for="amount">How much did you donate?</label>
      <input type="number" id="amount" name="amount" min="1" step="any" required>
      <button type="submit">Save Donation Amount</button>
      <div class="success" id="success-message" style="display:none;">Thank you! Your donation has been recorded.</div>
    </form>
    <div id="total-donated" style="margin-top:2em;"></div>
  </div>
  <script>
    // Load menu-experimental
    fetch('menu-experimental.html').then(r => r.text()).then(html => {
      document.getElementById('menu-container').innerHTML = html;
      if (typeof initMenuExperimental === 'function') {
        initMenuExperimental();
      }
    });
    // Save donation to localStorage and show total
    function updateTotal() {
      let total = 0;
      const donations = JSON.parse(localStorage.getItem('nsluce_donations') || '[]');
      donations.forEach(val => { total += Number(val) || 0; });
      document.getElementById('total-donated').textContent = donations.length ? `Total recorded: $${total.toFixed(2)}` : '';
    }
    document.getElementById('donation-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const amount = document.getElementById('amount').value;
      if (amount && !isNaN(amount) && Number(amount) > 0) {
        let donations = JSON.parse(localStorage.getItem('nsluce_donations') || '[]');
        donations.push(Number(amount));
        localStorage.setItem('nsluce_donations', JSON.stringify(donations));
        document.getElementById('success-message').style.display = 'block';
        document.getElementById('amount').value = '';
        updateTotal();
      }
    });
    updateTotal();
  </script>
</body>
</html>
